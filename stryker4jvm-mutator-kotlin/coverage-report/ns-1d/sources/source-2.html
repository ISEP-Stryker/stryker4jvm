


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > Stryker4jvmSbtRunner</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/highlight-idea.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">stryker4jvm.plugin.sbt</a>
</div>

<h1>Coverage Summary for Class: Stryker4jvmSbtRunner (stryker4jvm.plugin.sbt)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Stryker4jvmSbtRunner</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/96)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Stryker4jvmSbtRunner$$anonfun$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Stryker4jvmSbtRunner$$anonfun$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/29)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/98)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<div class="sourceCode" id="sourceCode"><i class="no-highlight">1</i>&nbsp;package stryker4jvm.plugin.sbt
<i class="no-highlight">2</i>&nbsp;
<i class="no-highlight">3</i>&nbsp;import cats.data.NonEmptyList
<i class="no-highlight">4</i>&nbsp;import cats.effect.{Deferred, IO, Resource}
<i class="no-highlight">5</i>&nbsp;import cats.syntax.either.*
<i class="no-highlight">6</i>&nbsp;import com.comcast.ip4s.Port
<i class="no-highlight">7</i>&nbsp;import fs2.io.file.Path
<i class="no-highlight">8</i>&nbsp;import sbt.*
<i class="no-highlight">9</i>&nbsp;import sbt.Keys.*
<i class="no-highlight">10</i>&nbsp;import sbt.internal.LogManager
<i class="no-highlight">11</i>&nbsp;import stryker4jvm.config.{Config, TestFilter}
<i class="no-highlight">12</i>&nbsp;import stryker4jvm.core.model.InstrumenterOptions
<i class="no-highlight">13</i>&nbsp;import stryker4jvm.exception.TestSetupException
<i class="no-highlight">14</i>&nbsp;import stryker4jvm.extensions.FileExtensions.*
<i class="no-highlight">15</i>&nbsp;import stryker4jvm.files.{FilesFileResolver, MutatesFileResolver}
<i class="no-highlight">16</i>&nbsp;import stryker4jvm.logging.FansiLogger
<i class="no-highlight">17</i>&nbsp;import stryker4jvm.model.CompilerErrMsg
<i class="no-highlight">18</i>&nbsp;import stryker4jvm.plugin.sbt.Stryker4jvmMain.autoImport.stryker
<i class="no-highlight">19</i>&nbsp;import stryker4jvm.plugin.sbt.files.{SbtFilesResolver, SbtMutatesResolver}
<i class="no-highlight">20</i>&nbsp;import stryker4jvm.plugin.sbt.runner.{LegacySbtTestRunner, SbtTestRunner}
<i class="no-highlight">21</i>&nbsp;import stryker4jvm.run.{Stryker4jvmRunner, TestRunner}
<i class="no-highlight">22</i>&nbsp;
<i class="no-highlight">23</i>&nbsp;import java.io.{File as JFile, PrintStream}
<i class="no-highlight">24</i>&nbsp;import scala.concurrent.duration.FiniteDuration
<i class="no-highlight">25</i>&nbsp;
<i class="no-highlight">26</i>&nbsp;/** This Runner run Stryker mutations in a single SBT session
<i class="no-highlight">27</i>&nbsp;  *
<i class="no-highlight">28</i>&nbsp;  * @param state
<i class="no-highlight">29</i>&nbsp;  *   SBT project state (contains all the settings about the project)
<i class="no-highlight">30</i>&nbsp;  */
<i class="no-highlight">31</i>&nbsp;class Stryker4jvmSbtRunner(
<b class="nc"><i class="no-highlight">32</i>&nbsp;    state: State,</b>
<b class="nc"><i class="no-highlight">33</i>&nbsp;    sharedTimeout: Deferred[IO, FiniteDuration],</b>
<b class="nc"><i class="no-highlight">34</i>&nbsp;    sources: Seq[Path],</b>
<b class="nc"><i class="no-highlight">35</i>&nbsp;    targetDir: Path</b>
<i class="no-highlight">36</i>&nbsp;)(implicit
<b class="nc"><i class="no-highlight">37</i>&nbsp;    log: FansiLogger</b>
<b class="nc"><i class="no-highlight">38</i>&nbsp;) extends Stryker4jvmRunner {</b>
<i class="no-highlight">39</i>&nbsp;
<i class="no-highlight">40</i>&nbsp;  def resolveTestRunners(
<i class="no-highlight">41</i>&nbsp;      tmpDir: Path
<i class="no-highlight">42</i>&nbsp;  )(implicit config: Config): Either[NonEmptyList[CompilerErrMsg], NonEmptyList[Resource[IO, TestRunner]]] = {
<i class="no-highlight">43</i>&nbsp;    def setupLegacySbtTestRunner(
<i class="no-highlight">44</i>&nbsp;        settings: Seq[Def.Setting[?]],
<i class="no-highlight">45</i>&nbsp;        extracted: Extracted
<i class="no-highlight">46</i>&nbsp;    ): NonEmptyList[Resource[IO, TestRunner]] = {
<b class="nc"><i class="no-highlight">47</i>&nbsp;      log.info(&quot;Using the legacy sbt testrunner&quot;)</b>
<i class="no-highlight">48</i>&nbsp;
<i class="no-highlight">49</i>&nbsp;      val emptyLogManager =
<b class="nc"><i class="no-highlight">50</i>&nbsp;        LogManager.defaultManager(ConsoleOut.printStreamOut(new PrintStream((_: Int) =&gt; {})))</b>
<i class="no-highlight">51</i>&nbsp;
<b class="nc"><i class="no-highlight">52</i>&nbsp;      val fullSettings = settings ++ Seq(</b>
<b class="nc"><i class="no-highlight">53</i>&nbsp;        logManager := {</b>
<b class="nc"><i class="no-highlight">54</i>&nbsp;          if ((stryker / logLevel).value == Level.Debug) logManager.value</b>
<b class="nc"><i class="no-highlight">55</i>&nbsp;          else emptyLogManager</b>
<i class="no-highlight">56</i>&nbsp;        }
<i class="no-highlight">57</i>&nbsp;      )
<b class="nc"><i class="no-highlight">58</i>&nbsp;      val newState = extracted.appendWithSession(fullSettings, state)</b>
<i class="no-highlight">59</i>&nbsp;
<b class="nc"><i class="no-highlight">60</i>&nbsp;      NonEmptyList.of(Resource.pure(new LegacySbtTestRunner(newState, fullSettings, extracted)))</b>
<i class="no-highlight">61</i>&nbsp;    }
<i class="no-highlight">62</i>&nbsp;
<i class="no-highlight">63</i>&nbsp;    def setupSbtTestRunner(
<i class="no-highlight">64</i>&nbsp;        settings: Seq[Def.Setting[?]],
<i class="no-highlight">65</i>&nbsp;        extracted: Extracted
<i class="no-highlight">66</i>&nbsp;    ): Either[NonEmptyList[CompilerErrMsg], NonEmptyList[Resource[IO, TestRunner]]] = {
<b class="nc"><i class="no-highlight">67</i>&nbsp;      val stryker4sVersion = this.getClass().getPackage().getImplementationVersion()</b>
<b class="nc"><i class="no-highlight">68</i>&nbsp;      log.debug(s&quot;Resolved stryker4s version $stryker4sVersion&quot;)</b>
<i class="no-highlight">69</i>&nbsp;
<b class="nc"><i class="no-highlight">70</i>&nbsp;      val fullSettings = settings ++ Seq(</b>
<b class="nc"><i class="no-highlight">71</i>&nbsp;        libraryDependencies +=</b>
<b class="nc"><i class="no-highlight">72</i>&nbsp;          &quot;io.stryker-mutator&quot; %% &quot;stryker4jvm-plugin-sbt-testrunner&quot; % stryker4sVersion</b>
<i class="no-highlight">73</i>&nbsp;      )
<b class="nc"><i class="no-highlight">74</i>&nbsp;      val newState = extracted.appendWithSession(fullSettings, state)</b>
<i class="no-highlight">75</i>&nbsp;
<i class="no-highlight">76</i>&nbsp;      def extractTaskValue[T](task: TaskKey[T], name: String) = {
<i class="no-highlight">77</i>&nbsp;
<b class="nc"><i class="no-highlight">78</i>&nbsp;        Project.runTask(task, newState) match {</b>
<b class="nc"><i class="no-highlight">79</i>&nbsp;          case Some((_, Value(result))) =&gt; result</b>
<i class="no-highlight">80</i>&nbsp;          case other =&gt;
<b class="nc"><i class="no-highlight">81</i>&nbsp;            log.debug(s&quot;Expected $name but got $other&quot;)</b>
<b class="nc"><i class="no-highlight">82</i>&nbsp;            throw TestSetupException(name)</b>
<i class="no-highlight">83</i>&nbsp;        }
<i class="no-highlight">84</i>&nbsp;      }
<i class="no-highlight">85</i>&nbsp;
<i class="no-highlight">86</i>&nbsp;      // SBT returns any errors as a Incomplete case class, which can contain other Incomplete instances
<i class="no-highlight">87</i>&nbsp;      // You have to recursively search through them to get the real exception
<i class="no-highlight">88</i>&nbsp;      def getRootCause(i: Incomplete): Seq[Throwable] = {
<b class="nc"><i class="no-highlight">89</i>&nbsp;        i.directCause match {</b>
<b class="nc"><i class="no-highlight">90</i>&nbsp;          case None =&gt;</b>
<b class="nc"><i class="no-highlight">91</i>&nbsp;            i.causes.flatMap(getRootCause)</b>
<b class="nc"><i class="no-highlight">92</i>&nbsp;          case Some(cause) =&gt;</b>
<b class="nc"><i class="no-highlight">93</i>&nbsp;            cause +: i.causes.flatMap(getRootCause)</b>
<i class="no-highlight">94</i>&nbsp;        }
<i class="no-highlight">95</i>&nbsp;      }
<i class="no-highlight">96</i>&nbsp;
<i class="no-highlight">97</i>&nbsp;      // See if the mutations compile, and if not extract the errors
<b class="nc"><i class="no-highlight">98</i>&nbsp;      val compilerErrors = Project.runTask(Compile / compile, newState) match {</b>
<b class="nc"><i class="no-highlight">99</i>&nbsp;        case Some((_, Inc(cause))) =&gt;</b>
<b class="nc"><i class="no-highlight">100</i>&nbsp;          val rootCauses = getRootCause(cause)</b>
<b class="nc"><i class="no-highlight">101</i>&nbsp;          rootCauses.foreach(t =&gt; log.debug(s&quot;Compile failed with ${t.getClass().getName()} root cause: $t&quot;))</b>
<b class="nc"><i class="no-highlight">102</i>&nbsp;          val compileErrors = rootCauses</b>
<b class="nc"><i class="no-highlight">103</i>&nbsp;            .collect { case e: xsbti.CompileFailed =&gt; e }</b>
<b class="nc"><i class="no-highlight">104</i>&nbsp;            .flatMap { exception =&gt;</b>
<b class="nc"><i class="no-highlight">105</i>&nbsp;              exception.problems.flatMap { e =&gt;</b>
<i class="no-highlight">106</i>&nbsp;                for {
<b class="nc"><i class="no-highlight">107</i>&nbsp;                  path &lt;- e.position().sourceFile().asScala</b>
<b class="nc"><i class="no-highlight">108</i>&nbsp;                  pathStr = tmpDir.relativize(Path(path.absolutePath)).toString</b>
<b class="nc"><i class="no-highlight">109</i>&nbsp;                  line &lt;- e.position().line().asScala</b>
<b class="nc"><i class="no-highlight">110</i>&nbsp;                } yield CompilerErrMsg(e.message(), pathStr, line)</b>
<i class="no-highlight">111</i>&nbsp;              }
<i class="no-highlight">112</i>&nbsp;            }
<i class="no-highlight">113</i>&nbsp;            .toList
<i class="no-highlight">114</i>&nbsp;
<b class="nc"><i class="no-highlight">115</i>&nbsp;          NonEmptyList.fromList(compileErrors)</b>
<i class="no-highlight">116</i>&nbsp;        case _ =&gt;
<b class="nc"><i class="no-highlight">117</i>&nbsp;          None</b>
<i class="no-highlight">118</i>&nbsp;      }
<i class="no-highlight">119</i>&nbsp;
<b class="nc"><i class="no-highlight">120</i>&nbsp;      compilerErrors.toLeft {</b>
<b class="nc"><i class="no-highlight">121</i>&nbsp;        val classpath = extractTaskValue(Test / fullClasspath, &quot;classpath&quot;).map(_.data.getPath())</b>
<i class="no-highlight">122</i>&nbsp;
<b class="nc"><i class="no-highlight">123</i>&nbsp;        val javaOpts = extractTaskValue(Test / javaOptions, &quot;javaOptions&quot;)</b>
<i class="no-highlight">124</i>&nbsp;
<b class="nc"><i class="no-highlight">125</i>&nbsp;        val frameworks = extractTaskValue(Test / loadedTestFrameworks, &quot;test frameworks&quot;).values.toSeq</b>
<i class="no-highlight">126</i>&nbsp;
<b class="nc"><i class="no-highlight">127</i>&nbsp;        val testGroups = extractTaskValue(Test / testGrouping, &quot;testGrouping&quot;).map { group =&gt;</b>
<b class="nc"><i class="no-highlight">128</i>&nbsp;          if (config.testFilter.isEmpty) group</b>
<i class="no-highlight">129</i>&nbsp;          else {
<b class="nc"><i class="no-highlight">130</i>&nbsp;            val testFilter = new TestFilter()</b>
<b class="nc"><i class="no-highlight">131</i>&nbsp;            val filteredTests = group.tests.filter(t =&gt; testFilter.filter(t.name))</b>
<b class="nc"><i class="no-highlight">132</i>&nbsp;            new Tests.Group(name = group.name, tests = filteredTests, runPolicy = group.runPolicy)</b>
<i class="no-highlight">133</i>&nbsp;          }
<i class="no-highlight">134</i>&nbsp;        }
<i class="no-highlight">135</i>&nbsp;
<b class="nc"><i class="no-highlight">136</i>&nbsp;        val concurrency = if (config.debug.debugTestRunner) {</b>
<b class="nc"><i class="no-highlight">137</i>&nbsp;          log.warn(</b>
<b class="nc"><i class="no-highlight">138</i>&nbsp;            &quot;&#39;debug.debug-test-runner&#39; config is &#39;true&#39;, creating 1 test-runner with debug arguments enabled on port 8000.&quot;</b>
<i class="no-highlight">139</i>&nbsp;          )
<b class="nc"><i class="no-highlight">140</i>&nbsp;          1</b>
<i class="no-highlight">141</i>&nbsp;        } else {
<b class="nc"><i class="no-highlight">142</i>&nbsp;          log.info(s&quot;Creating ${config.concurrency} test-runners&quot;)</b>
<b class="nc"><i class="no-highlight">143</i>&nbsp;          config.concurrency</b>
<i class="no-highlight">144</i>&nbsp;        }
<i class="no-highlight">145</i>&nbsp;
<b class="nc"><i class="no-highlight">146</i>&nbsp;        val portStart = 13336</b>
<b class="nc"><i class="no-highlight">147</i>&nbsp;        val portRanges = NonEmptyList.fromListUnsafe(</b>
<b class="nc"><i class="no-highlight">148</i>&nbsp;          (1 to concurrency).map(p =&gt; Port.fromInt(p + portStart).get).toList</b>
<i class="no-highlight">149</i>&nbsp;        )
<i class="no-highlight">150</i>&nbsp;
<b class="nc"><i class="no-highlight">151</i>&nbsp;        portRanges.map { port =&gt;</b>
<b class="nc"><i class="no-highlight">152</i>&nbsp;          SbtTestRunner.create(classpath, javaOpts, frameworks, testGroups, port, sharedTimeout)</b>
<i class="no-highlight">153</i>&nbsp;        }
<i class="no-highlight">154</i>&nbsp;      }
<i class="no-highlight">155</i>&nbsp;    }
<i class="no-highlight">156</i>&nbsp;
<i class="no-highlight">157</i>&nbsp;    def extractSbtProject(tmpDir: Path)(implicit config: Config) = {
<i class="no-highlight">158</i>&nbsp;      // Remove scalacOptions that are very likely to cause errors with generated code
<i class="no-highlight">159</i>&nbsp;      // https://github.com/stryker-mutator/stryker4s/issues/321
<b class="nc"><i class="no-highlight">160</i>&nbsp;      val blocklistedScalacOptions = Seq(</b>
<b class="nc"><i class="no-highlight">161</i>&nbsp;        &quot;unused:patvars&quot;,</b>
<b class="nc"><i class="no-highlight">162</i>&nbsp;        &quot;unused:locals&quot;,</b>
<b class="nc"><i class="no-highlight">163</i>&nbsp;        &quot;unused:params&quot;,</b>
<b class="nc"><i class="no-highlight">164</i>&nbsp;        &quot;unused:explicits&quot;</b>
<i class="no-highlight">165</i>&nbsp;        // -Ywarn for Scala 2.12, -W for Scala 2.13
<b class="nc"><i class="no-highlight">166</i>&nbsp;      ).flatMap(opt =&gt; Seq(s&quot;-Ywarn-$opt&quot;, s&quot;-W$opt&quot;))</b>
<i class="no-highlight">167</i>&nbsp;
<i class="no-highlight">168</i>&nbsp;      val filteredSystemProperties: Seq[String] = {
<i class="no-highlight">169</i>&nbsp;        // Matches strings that start with one of the options between brackets
<b class="nc"><i class="no-highlight">170</i>&nbsp;        val regex = &quot;^(java|sun|file|user|jna|os|sbt|jline|awt|graal|jdk).*&quot;</b>
<i class="no-highlight">171</i>&nbsp;        for {
<b class="nc"><i class="no-highlight">172</i>&nbsp;          (key, value) &lt;- sys.props.toList.filterNot { case (key, _) =&gt; key.matches(regex) }</b>
<b class="nc"><i class="no-highlight">173</i>&nbsp;          param = s&quot;-D$key=$value&quot;</b>
<b class="nc"><i class="no-highlight">174</i>&nbsp;        } yield param</b>
<i class="no-highlight">175</i>&nbsp;      }
<b class="nc"><i class="no-highlight">176</i>&nbsp;      log.debug(s&quot;System properties added to the forked JVM: ${filteredSystemProperties.mkString(&quot;,&quot;)}&quot;)</b>
<i class="no-highlight">177</i>&nbsp;
<b class="nc"><i class="no-highlight">178</i>&nbsp;      val settings: Seq[Def.Setting[?]] = Seq(</b>
<b class="nc"><i class="no-highlight">179</i>&nbsp;        scalacOptions --= blocklistedScalacOptions,</b>
<b class="nc"><i class="no-highlight">180</i>&nbsp;        Test / fork := true,</b>
<b class="nc"><i class="no-highlight">181</i>&nbsp;        Compile / scalaSource := tmpDirFor(Compile / scalaSource, tmpDir).value,</b>
<i class="no-highlight">182</i>&nbsp;        // Java code is not mutated, but can point to the same directory as the Scala code
<i class="no-highlight">183</i>&nbsp;        // so we need to also change the directory for javaSource to the tmpDir to prevent this
<b class="nc"><i class="no-highlight">184</i>&nbsp;        Compile / javaSource := tmpDirFor(Compile / javaSource, tmpDir).value,</b>
<b class="nc"><i class="no-highlight">185</i>&nbsp;        Test / javaOptions ++= filteredSystemProperties</b>
<b class="nc"><i class="no-highlight">186</i>&nbsp;      ) ++ {</b>
<b class="nc"><i class="no-highlight">187</i>&nbsp;        if (config.testFilter.nonEmpty) {</b>
<b class="nc"><i class="no-highlight">188</i>&nbsp;          val testFilter = new TestFilter()</b>
<b class="nc"><i class="no-highlight">189</i>&nbsp;          Seq(Test / testOptions := Seq(Tests.Filter(testFilter.filter)))</b>
<i class="no-highlight">190</i>&nbsp;        } else
<b class="nc"><i class="no-highlight">191</i>&nbsp;          Nil</b>
<i class="no-highlight">192</i>&nbsp;      }
<i class="no-highlight">193</i>&nbsp;
<b class="nc"><i class="no-highlight">194</i>&nbsp;      (settings, Project.extract(state))</b>
<i class="no-highlight">195</i>&nbsp;    }
<i class="no-highlight">196</i>&nbsp;
<i class="no-highlight">197</i>&nbsp;    def tmpDirFor(langSource: SettingKey[File], tmpDir: Path): Def.Initialize[JFile] =
<b class="nc"><i class="no-highlight">198</i>&nbsp;      langSource(source =&gt; (Path.fromNioPath(source.toPath()) inSubDir tmpDir).toNioPath.toFile())</b>
<i class="no-highlight">199</i>&nbsp;
<b class="nc"><i class="no-highlight">200</i>&nbsp;    val (settings, extracted) = extractSbtProject(tmpDir)</b>
<i class="no-highlight">201</i>&nbsp;
<b class="nc"><i class="no-highlight">202</i>&nbsp;    if (config.legacyTestRunner) {</b>
<i class="no-highlight">203</i>&nbsp;      // No compiler error handling in the legacy runner
<b class="nc"><i class="no-highlight">204</i>&nbsp;      setupLegacySbtTestRunner(settings, extracted).asRight</b>
<i class="no-highlight">205</i>&nbsp;    } else
<b class="nc"><i class="no-highlight">206</i>&nbsp;      setupSbtTestRunner(settings, extracted)</b>
<i class="no-highlight">207</i>&nbsp;  }
<i class="no-highlight">208</i>&nbsp;
<i class="no-highlight">209</i>&nbsp;  override def resolveMutatesFileSource(implicit config: Config): MutatesFileResolver =
<b class="nc"><i class="no-highlight">210</i>&nbsp;    if (config.mutate.isEmpty) new SbtMutatesResolver(state, targetDir) else super.resolveMutatesFileSource</b>
<i class="no-highlight">211</i>&nbsp;
<i class="no-highlight">212</i>&nbsp;  override def resolveFilesFileSource(implicit config: Config): FilesFileResolver =
<b class="nc"><i class="no-highlight">213</i>&nbsp;    if (config.files.isEmpty) new SbtFilesResolver(sources, targetDir) else super.resolveFilesFileSource</b>
<i class="no-highlight">214</i>&nbsp;
<i class="no-highlight">215</i>&nbsp;  override def instrumenterOptions(implicit config: Config): InstrumenterOptions =
<b class="nc"><i class="no-highlight">216</i>&nbsp;    if (config.legacyTestRunner) {</b>
<b class="nc"><i class="no-highlight">217</i>&nbsp;      InstrumenterOptions.SysProp</b>
<i class="no-highlight">218</i>&nbsp;    } else {
<b class="nc"><i class="no-highlight">219</i>&nbsp;      InstrumenterOptions.TestRunner</b>
<i class="no-highlight">220</i>&nbsp;    }
<i class="no-highlight">221</i>&nbsp;
<i class="no-highlight">222</i>&nbsp;}
</div>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
        var codeBlock = document.getElementById('sourceCode');

        if (codeBlock) {
            hljs.highlightBlock(codeBlock);
        }
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-01-25 12:29</div>
</div>
</body>
</html>
